# ツール選択ガイド

このドキュメントは、AIエージェントが適切なツールを選択するための判断基準を提供します。

## ツール選択フローチャート

### 何を理解したい？

| 目的 | 使用ツール |
|------|-----------|
| 外部ライブラリのAPI | **Context7** |
| プロジェクト内のコード構造 | **Serena** |
| プロジェクトのドキュメント | **Read** |
| 単純なファイル編集 | **StrReplace/MultiStrReplace** |
| 文字列検索 | **Grep** |

### 複雑さによる判断

| 複雑さ | 使用ツール | 理由 |
|--------|-----------|------|
| シンボル間の関係を追う必要がある | **Serena** | 参照関係・依存関係の把握が必要 |
| 単純な文字列マッチで十分 | **Grep** | 高速で効率的 |
| ファイル全体を見れば理解できる | **Read** | シンプルで直接的 |

## 詳細なツール別ガイド

### Context7
- **用途**: 外部ライブラリ・フレームワークのドキュメント参照
- **詳細**: [CONTEXT7_GUIDE.md](./CONTEXT7_GUIDE.md)

### Serena MCP
- **用途**: コードベースの理解と長期記憶の管理
- **詳細**: [SERENA_GUIDE.md](./SERENA_GUIDE.md)

### Read
- **用途**: ドキュメントや既知のファイルの読み込み
- **使用場面**: `docs/*.md`、設定ファイル、小規模なソースファイル

### Grep
- **用途**: 文字列の検索
- **使用場面**: インポート文の検索、特定の文字列の出現箇所確認

### StrReplace/MultiStrReplace
- **用途**: ファイルの編集
- **使用場面**: 既知の箇所への変更、リファクタリング

## 実践例

### シナリオ1: 新機能の実装
1. **要件理解**: `docs/IMPLEMENTATION_PLAN.md`を**Read**で確認
2. **外部API確認**: 必要なライブラリを**Context7**で調査
3. **既存実装理解**: 関連コードを**Serena**で分析
4. **実装**: **StrReplace**で編集

### シナリオ2: バグ修正
1. **問題箇所特定**: エラーメッセージから**Grep**で検索
2. **コード理解**: **Serena**でシンボルと参照関係を調査
3. **修正**: **StrReplace**で編集
4. **影響確認**: **Serena**で参照箇所を確認

### シナリオ3: ドキュメント更新
1. **現状確認**: 該当ドキュメントを**Read**で読み込み
2. **コード確認**: 実装を**Serena**で確認（必要に応じて）
3. **更新**: **StrReplace**で編集

---

_適切なツールを選択することで、効率的で正確な作業が可能になります。迷った時はこのガイドを参照してください。_