// Test chop() with arpeggio file - each slice played twice
// Should hear each note twice in sequence

// Initialize global context
var global = init GLOBAL

// Configure global parameters
global.audioPath("test-assets/audio")
global.tempo(120)
global.beat(4)
global.tick(4)

// Initialize sequence
var arp = init global.seq

// Configure sequence
arp.beat(4 by 4).length(1)

// Load and chop arpeggio (1.0s / 4 = 0.25s per slice)
arp.audio("arpeggio_c.wav").chop(4)

// Play each slice twice
arp.play(1, 1, 2, 2, 3, 3, 4, 4)

// Start playback
global.run()
arp.run()
